<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title></title>
    <script type="text/javascript">
        var ntm = Date.now();//获取当前时间戳（毫秒）
        var time = new Date(ntm);//毫秒转日期格式
        //使用函数的方式进行定义
        function dateFormat(fmt, date) {
            var o = {
                "M+": date.getMonth() + 1,
                "d+": date.getDate(),
                "h+": date.getHours(),
                "m+": date.getMinutes(),
                "s+": date.getSeconds(),
            };
            if (/(y+)/.test(fmt)) {
                fmt = fmt.replace(RegExp.$1, (date.getFullYear() + "").substr(4 - RegExp.$1.length));
            }
            for (var k in o)
                if (new RegExp("(" + k + ")").test(fmt))
                    fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
            return fmt;
        }
        var temptime = dateFormat("yyyy-MM-dd hh:mm", time);
        var tvalue = temptime.substring(5, 14);
        var sumOverTen = (data) => {
            return data >= 10 ? data : "0" + data
        }
        var cd = new Date();
        var year = cd.getFullYear();
        var month = sumOverTen(cd.getMonth() + 1)
        var day = sumOverTen(cd.getDate())
        var getDays = (year, month) => {
            return new Date(year, month, 0).getDate()
        }

        var nextDay = getDays(year, month) == day ? '01' : getDays(year, month) + 1
        var nextMonth = nextDay == "01" ? sumOverTen(Number(month) + 1) : month;
        function getvalue(name) {
            const url_string = window.location.href;
            const url = new URL(url_string);
            return url.searchParams.get(name);
        }
        var myname = getvalue('myname');
        var wanna = month + "-" + day + " 10:16";
        var bgtime = month + "-" + day + " 11:00";
        var endtime = nextMonth + "-" + nextDay + " 11:00";
        var telnum = ' 17727129289';
        var loca = '广东省佛山市南海区广云路s263段';
        var Because = '事假';
        var HowToGo = '动车';
        var WhereToGo = '广东省/广州市/天河区';
        var name1 = getvalue('name1');
        var passtime1 = month + "-" + day + " 10:37";
        var bb1 = '同意';
        var passareaurl = 'timeline1.html?myname=' + myname + '&wanna=' + wanna +
            '&name1=' + name1 + '&passtime1=' + passtime1 + '&bb1=' + bb1;
        console.log(passareaurl)
        function gohistory() {
            document.location.href = 'history.html?bgtime=' + bgtime + '&endtime=' + endtime;
        }
    </script>
    <style>
        * {
            margin: 0px;
            font-size: 15px;
        }

        #rollpart {
            border: medium none;
            width: 100%;
            height: 150px;
        }

        #header {
            height: 55px;
            width: 100%;
            background-image: url(img/biaoti.png);
            background-repeat: no-repeat;
            background-size: 100%;
            position: fixed;
        }

        .hdbt {
            background: transparent;
            border-width: 0px;
            outline: none;
        }

        #area1 {
            margin: 10px 15px;
        }

        #area2 {
            margin: 10px 15px;
        }

        #area3 {
            border: medium none;
            width: 100%;
            height: 200px;
        }

        #q {
            color: rgb(148, 148, 148);
            width: 80px;
        }

        .btbt {
            margin: 4px 5%;
            width: 90%;
            height: 50px;
            background-color: #fff;
            border-radius: 5px;
            border-color: #dddee2;
        }
    </style>
</head>

<body>

    <iframe id="rollpart" src="roll_rq.html"></iframe>
    <table id="area1">
        <tr>
            <td id="q">请假类型：</td>
            <td>事假</td>
            <td id="q">需要离校：</td>
            <td>离校</td>
        </tr>
        <tr>
            <td colspan="4" style="height: 5px;"></td>
        </tr>
        <tr>
            <td id="q">
                <p>销假规则：</p><br>
            </td>
            <td colspan="3" style="color: rgb(247, 154, 14);">离校请假需要销假，非离校请假无需销假 <a href=""
                    style="text-decoration: none;color: rgb(44, 140, 240);">查看> </a></td>
        </tr>
    </table>
    <p><span id="q" style="margin-left: 15px;">实际休假时间：</span>-</p>
    <div style="background-color: rgb(245, 246, 248);height: 35px;">
        <p style="margin: 10px 30px;padding-top: 5px; color: rgb(189, 192, 197);">请假详情</p>
    </div>
    <div id="area2">
        <h4 style="font-size: 18px;">我的 请假申请</h4>
        <table style="width: 100%;">
            <tr>
                <td id="q" style="width: 28%;">开始时间：</td>
                <td>
                    <p id="bgtime"></p>
                </td>
            </tr>
            <tr>
                <td id="q">结束时间：</td>
                <td>
                    <p id="endtime"></p>
                </td>
            </tr>
            <tr>
                <td id="q">审批流程：</td>
                <td>
                    <p>共1步 <a href="" style="color: rgb(53, 138, 229);text-decoration: none;">查看></a></p>
                </td>
            </tr>
            <tr>
                <td id="q">紧急联系人：</td>
                <td>
                    <p id="telnum"></p>
                </td>
            </tr>
            <tr>
                <td id="q">
                    <p>请假原因：</p><br><br>
                </td>
                <td>
                    <div>
                        <p id="Because">原因：</p>
                    </div>
                    <div>
                        <p id="WhereToGo">目的地：</p>
                    </div>
                    <div>
                        <p id="HowToGo">出行方式：</p>
                    </div>
                </td>
            </tr>
            <tr>
                <td id="q">发起位置：</td>
                <td>
                    <p id="loca" style="color: rgb(53, 138, 229);"></p>
                </td>
            </tr>
            <tr>
                <td id="q">抄送人：</td>
                <td>
                    <p>无</p>
                </td>
            </tr>
        </table>
    </div>
    <div style="height: 15px;background-color: rgb(245, 246, 248);"></div>
    <iframe id="area3" src=""></iframe>
    <input type="button" class="btbt" style="border: 0px;background-color: #4482f1;color: #fff;" value="去销假" />
    <input type="button" class="btbt" value="申请续假" />
    <input type="button" class="btbt" value="转发" />
    <div style="height: 30px;width: 100%;"></div>
    <script>
        document.getElementById('area3').src = passareaurl;
        document.getElementById('bgtime').innerHTML = bgtime;
        document.getElementById('endtime').innerHTML = endtime;
        document.getElementById('telnum').innerHTML = telnum;
        document.getElementById('Because').innerHTML = '原因：' + Because;
        document.getElementById('WhereToGo').innerHTML = '目的地：' + WhereToGo;
        document.getElementById('HowToGo').innerHTML = '出行方式：' + HowToGo;
        document.getElementById('loca').innerHTML = loca;
    </script>
</body>

</html>